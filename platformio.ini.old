#
# PlatformIO Configuration File
#
# For detailed documentation with EXAMPLES:
#
# https://docs.platformio.org/en/latest/projectconf/index.html
#

# Automatic targets - enable auto-uploading
#targets = upload

#
# By default platformio build will abort after 5 errors.
# Remove '-fmax-errors=5' from build_flags below to see all.
#
[platformio]
src_dir         = .
build_dir       = Demo_Build
workspace_dir   = Demo_Workspace
default_envs    = disco_f100rb

[common]
build_flags =
    -O1
    -g
    -mcpu=cortex-m3
    -mthumb
    -I".."
    -I"/home/joann/Arm/STM32F10x_StdPeriph_Lib_V3.5.0/Libraries/CMSIS/CM3/DeviceSupport/ST/STM32F10x"
    -I"/home/joann/Arm/STM32F10x_StdPeriph_Lib_V3.5.0/Libraries/CMSIS/CM3/CoreSupport"
    -I"/home/joann/Arm/STM32F10x_StdPeriph_Lib_V3.5.0/Libraries/STM32F10x_StdPeriph_Driver/inc"
    -I"."
    -DSTM32F10X_MD_VL
    -DUSE_STDPERIPH_DRIVER
    -DUSE_FULL_ASSERT
    -Tstm32f100.ld

[env:disco_f100rb]
platform          = ststm32@~10.0
board             = disco_f100rb
; ST STM32 libraries framwork = arduino
; if you want Roger Clark's Arduino STM32 implemnation then add bord_build.core = maple
framework         = arduino
build_flags       =${common.build_flags}

upload_protocol =stlink
